!function(i){var o={};function r(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}r.m=i,r.c=o,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(i,o,function(t){return e[t]}.bind(null,o));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([,function(t,e,i){"use strict";i.r(e);var o=function(o,r,n){var s;return function(){var t=this,e=arguments,i=n&&!s;clearTimeout(s),s=setTimeout(function(){s=null,n||o.apply(t,e)},r),i&&o.apply(t,e)}},r={$base:document.getElementById("base"),ctx:{},coords:[],brickHeight:14,brickWidth:14,shadeStep:2,currentCoord:{x:"",y:""},start:0,resizeDelay:250,software:"ianmoffitt.dev",mode:"gray",init:function(){this.load(),this.drawGrid(!0),window.addEventListener("resize",o(this.testDeb,this.resizeDelay).bind(this))},testDeb:function(){this.$base=document.getElementById("base"),this.resetCoords(),this.drawGrid(!0)},resetCoords:function(){for(var t=0;t<this.coords.length;t+=1)this.coords[t].changed=1},drawGrid:function(t){var e=this.$base,i=e.getContext("2d");void 0===t&&(t=!1),i.canvas.width=window.innerWidth,i.canvas.height=window.innerHeight,this.ctx=e,t?this.initialRender(this.coords,e):this.render(this.coords,e),window.requestAnimationFrame(this.frame.bind(this)),e.addEventListener("mousemove",function(t){this.currentCoord=this.getCoords(t.clientX,t.clientY)}.bind(this)),e.addEventListener("mouseleave",function(){this.currentCoord="",this.save()}.bind(this))},frame:function(t){window.requestAnimationFrame(this.frame.bind(this)),0===this.start&&(this.start=t);var e=t-this.start,i=this.ctx,t=this.coords;1e3<e&&(this.updateItem(this.currentCoord),this.render(t,i))},initialRender:function(a,t){for(var d=this,c=t.getContext("2d"),e=this.getXDimension(this.$base),i=this.getYDimension(this.$base),o=function(s){for(var t=0;t<e;t+=1)!function(e){var t="rgb(255,255,255)",i=a.filter(function(t){return t.x===e&&t.y===s&&1===t.changed});0<i.length&&(t=i[0].color);var o=e*d.brickWidth,r=s*d.brickHeight,n=o+d.brickWidth,i=r+d.brickHeight;c.strokeStyle="rgba(221, 221, 221)",c.beginPath(),c.moveTo(o,r),c.lineTo(n,r),c.lineTo(n,i),c.lineTo(o,i),c.lineTo(o,r),c.fillStyle=t,c.fill(),c.stroke()}(t)},r=0;r<i;r+=1)o(r)},render:function(t,e){var i=e.getContext("2d");if(t.some(function(t){return t.changed})){for(var o,r,n,s,a=0;a<t.length;a+=1)1===t[a].changed&&(o=t[a].x*this.brickWidth,r=t[a].y*this.brickHeight,n=o+this.brickWidth,s=r+this.brickHeight,i.strokeStyle="rgba(221, 221, 221)",i.beginPath(),i.moveTo(o,r),i.lineTo(n,r),i.lineTo(n,s),i.lineTo(o,s),i.lineTo(o,r),i.fillStyle=t[a].color,i.fill(),i.stroke(),t[a].changed=0);this.coords=t}},getCoords:function(t,e){return{x:Math.floor(t/this.brickWidth),y:Math.floor(e/this.brickHeight)}},getXDimension:function(t){return Math.ceil((t.width+2*this.brickWidth)/this.brickWidth)},getYDimension:function(t){return Math.ceil(t.height/this.brickHeight)},updateItem:function(t){if(void 0!==t&&""!==t.x&&""!==t.y){var e,i=!1,o="rgb(250, 250, 250)";for(e in this.coords)if(this.coords.hasOwnProperty(e)&&this.coords[e].x===t.x&&this.coords[e].y===t.y){var r,i=!0,o=this.coords[e].color,n=this.parseRgb(o);"color"===this.mode?(n=this.randomRgb(),this.coords[e].color="rgb("+n.r+","+n.g+","+n.b+")"):(0<(r=+n.r)&&(r<5?r=0:r-=this.shadeStep),n=r,this.coords[e].color="rgb("+r+","+n+","+n+")"),this.coords[e].changed=1;break}i||this.coords.push({x:t.x,y:t.y,color:o,changed:1})}},load:function(){var t=this.getStorageKey(),t=window.localStorage.getItem(t),e=this.pxonToCoords(JSON.parse(t));if(e&&void 0!==e){for(var i=0;i<e.length;i+=1)e[i].changed=1;this.coords=e}},save:function(){var t,e=this.getStorageKey();void 0!==this.coords&&(t=JSON.stringify(this.coordsToPxon(this.coords)),window.localStorage.setItem(e,t))},getStorageKey:function(){return window.location.hostname+"-"+window.location.pathname.replace("/","").replace(".","")+"-grid"},coordsToPxon:function(t){var e,i={exif:{software:r.software,artist:"",imageDescription:"",userComment:"",copyright:"",dateTime:""},pxif:{pixels:[]}},o={};for(e in o=void 0!==t.data?t.data:t)i.pxif.pixels.push({x:o[e].x,y:o[e].y,color:o[e].color});return i},pxonToCoords:function(t){var e=[];if(t&&void 0!==t&&void 0!==t.pxif&&void 0!==t.pxif.pixels)for(var i in t.pxif.pixels)t.pxif.pixels.hasOwnProperty(i)&&((i=t.pxif.pixels[i]).changed=1,e.push(i));return e},parseRgb:function(t){t=t.replace(/^(rgb|rgba)\(/,"").replace(/\)$/,"").replace(/\s/g,"").split(",");return{r:t[0],g:t[1],b:t[2]}},randomRgb:function(){return{r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random())}},randomKey:function(t){t=Object.keys(t);return t[Math.floor(t.length*Math.random())]}},n=r,s=window.$||window.jQuery||{};window.addEventListener("DOMContentLoaded",function(){console.log("hello ian 1.0.1"),n.init(),s(document).foundation()},!1)}]);
//# sourceMappingURL=main.js.map